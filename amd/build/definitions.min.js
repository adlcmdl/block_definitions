/**
 * Client-side script to look up words and present them in a dialog.
 *
 * @module    block_definitions/definitions
 * @author    Tim Martinez <tim.martinez@pembinahills.ca>
 * @copyright 2025 Pembina Hills School Division. All rights reserved.
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_definitions/definitions",["jquery","core/ajax","core/notification","core/templates","core/modal_factory"],(function($,Ajax,Notification,Templates,ModalFactory){function searchDefinition(def,dic){Ajax.call([{methodname:"block_definitions_get_definition",args:{word:def,dictionary:dic},done:function(data){var response,template;template="block_definitions/"+(response=data).template,Templates.render(template,response).then((function(html,javascript){ModalFactory.create({title:"Definition",body:html,footer:'<button id="closeDialog" type="button" class="btn btn-primary" data-action="hide">Close</button>'}).done((function(modal){modal.show(),Templates.runTemplateJS(javascript),$("a[data-define]").on("click",(function(){modal.hide(),modal.destroy(),$("#definitions_search").val($(this).attr("data-define")),searchDefinition($(this).attr("data-define"),$('input[name="selectdictionary"]:checked').val())}))}))})).fail(Notification.exception)}.bind(undefined),fail:Notification.exception}])}return{init:function(){$(document).on("click","#block_definition_searchform_button",(function(e){e.preventDefault(),searchDefinition($("#definitions_search").val(),$('input[name="selectdictionary"]:checked').val())}))}}}));

//# sourceMappingURL=definitions.min.js.map